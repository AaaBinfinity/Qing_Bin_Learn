# 分支简介和基本操作

分支（Branch）可以把它看作是代码库中的不同版本，可以独立存在，并且有自己的提交记录

就像是树的不同枝干，每个枝干都有自己的生长轨迹

------



## 作用

多个开发人员可以在自己的分支上进行开发工作，最后再合并到主线的代码库中

也可以在一个分支上进行新功能的开发，或者建立一个问题修复分支来处理一些bug和缺陷

这样就可以让主线代码仓库处于一个随时可以使用的、比较稳定的状态，不会影响到其他的开发和测试



## 基本操作

默认是提交到main分支

查看分支

```shell
git branch
```

创建一个新的分支

```shell
git branch <branch-name>
```

切换到不同的分支

```shell
git checkout <branch-name>
```

`git checkout`使用时可能存在一些潜在的问题，因为除了切换分支状态之外，`git checkout`命令还可以用来回复文件或者目录到之前的某个状态，`git switch`命令是专门用来切换分支的，语义更加明确

```shell
git switch <branch-name>
```

把分支合并到main分支上，使用`merge`命令

```shell
git merge <branch-name>
```

执行该命令后，Git会自动产生一次提交

在命令行中查看分支图

```shell
git log --graph --oneline --decorate --all
```

删除分支（已合并）

```shell
git branch -d <branch-name>
```

删除分支（未合并）

```shell
git branch -D <branch-name>
```

------



## 解决合并冲突

一般情况下，如果两个分支的修改内容没有重合的部分，合并分支就非常简单，Git会为我们**自动完成合并**

但是如果两个分支修改了**同一个文件的同一行代码**，Git就不知道应该保留哪个分支的修改内容了，也就**产生了冲突**。这个时候就需要我们手动来解决冲突

需要进行**手动编辑**，留下想要的内容，之后重新提交

**中止合并:**当不想继续执行合并操作时可以使用下面的命令来中止合并过程:

```shell
git merge --abort
```

